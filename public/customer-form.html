<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¡§å®¢æƒ…å ±å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ  - RentPipe</title>
    <link rel="stylesheet" href="css/main.css">
    <style>
        .form-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f9fafb;
            min-height: 100vh;
        }

        .form-header {
            text-align: center;
            padding: 30px 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .form-header h1 {
            color: #1e3a8a;
            margin-bottom: 10px;
        }

        .form-header p {
            color: #64748b;
            margin: 0;
        }

        .progress-bar {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .progress-steps {
            display: flex;
            justify-content: space-between;
            position: relative;
            margin-bottom: 15px;
        }

        .progress-step {
            flex: 1;
            text-align: center;
            position: relative;
        }

        .step-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e2e8f0;
            color: #64748b;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin: 0 auto 8px auto;
            transition: all 0.3s ease;
        }

        .step-circle.active {
            background: #1e3a8a;
            color: white;
        }

        .step-circle.completed {
            background: #22c55e;
            color: white;
        }

        .step-label {
            font-size: 12px;
            color: #64748b;
            font-weight: 500;
        }

        .progress-line {
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            height: 2px;
            background: #e2e8f0;
            z-index: 1;
        }

        .progress-fill {
            height: 100%;
            background: #22c55e;
            transition: width 0.3s ease;
            width: 0%;
        }

        .form-step {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            display: none;
        }

        .form-step.active {
            display: block;
            animation: slideIn 0.3s ease;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #1e293b;
        }

        .form-label.required::after {
            content: ' *';
            color: #ef4444;
        }

        .form-input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.2s ease;
            box-sizing: border-box;
        }

        .form-input:focus {
            outline: none;
            border-color: #1e3a8a;
        }

        .form-input.error {
            border-color: #ef4444;
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            padding: 10px;
            background: #f8fafc;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .checkbox-item:hover {
            background: #e2e8f0;
        }

        .checkbox-item input[type="checkbox"] {
            margin-right: 8px;
        }

        .budget-display {
            text-align: center;
            padding: 15px;
            background: #f1f5f9;
            border-radius: 8px;
            margin: 10px 0;
            font-weight: bold;
            color: #1e3a8a;
        }

        .form-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            gap: 15px;
        }

        .btn-prev {
            background: #6b7280;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.2s ease;
        }

        .btn-prev:hover {
            background: #4b5563;
        }

        .btn-next {
            background: #1e3a8a;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.2s ease;
            flex: 1;
        }

        .btn-next:hover {
            background: #1e40af;
        }

        .btn-submit {
            background: #22c55e;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            width: 100%;
            transition: background-color 0.2s ease;
        }

        .btn-submit:hover {
            background: #16a34a;
        }

        .confirmation-summary {
            background: #f8fafc;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .summary-item:last-child {
            border-bottom: none;
        }

        .summary-label {
            font-weight: 600;
            color: #1e293b;
        }

        .summary-value {
            color: #64748b;
        }

        .success-message {
            text-align: center;
            padding: 40px 20px;
        }

        .success-icon {
            font-size: 64px;
            color: #22c55e;
            margin-bottom: 20px;
        }

        .error-message {
            color: #ef4444;
            font-size: 14px;
            margin-top: 5px;
        }

        @keyframes slideIn {
            from { transform: translateX(20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @media (max-width: 768px) {
            .form-container {
                padding: 10px;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .progress-steps {
                flex-wrap: wrap;
                gap: 10px;
            }

            .form-buttons {
                flex-direction: column;
            }

            .checkbox-group {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- çµ±ä¸€ã•ã‚ŒãŸãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ -->
    <nav class="navbar">
        <div class="nav-brand">
            <h1>RentPipe</h1>
            <span class="nav-subtitle">è³ƒè²¸å–¶æ¥­ã‚’ã€æµã‚Œã‚‹ã‚ˆã†ã«</span>
        </div>
        <div class="nav-menu">
            <a href="index.html" class="nav-link">ğŸ“Š ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</a>
            <a href="customer.html" class="nav-link">ğŸ‘¥ é¡§å®¢ç®¡ç†</a>
            <a href="pipeline.html" class="nav-link">ğŸ”„ ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³</a>
            <a href="#" class="nav-link">ğŸ“ˆ ãƒ¬ãƒãƒ¼ãƒˆ</a>
        </div>
    </nav>

    <div class="form-container">
        <div class="form-header">
            <h1>é¡§å®¢æƒ…å ±å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ </h1>
            <p>è³ƒè²¸ç‰©ä»¶ã‚’ãŠæ¢ã—ã®ãŠå®¢æ§˜ã®åŸºæœ¬æƒ…å ±ãƒ»ã”å¸Œæœ›æ¡ä»¶ã‚’ãŠèã‹ã›ãã ã•ã„</p>
        </div>

        <div class="progress-bar">
            <div class="progress-steps">
                <div class="progress-line">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-step">
                    <div class="step-circle active" id="step1">1</div>
                    <div class="step-label">åŸºæœ¬æƒ…å ±</div>
                </div>
                <div class="progress-step">
                    <div class="step-circle" id="step2">2</div>
                    <div class="step-label">å¸Œæœ›æ¡ä»¶</div>
                </div>
                <div class="progress-step">
                    <div class="step-circle" id="step3">3</div>
                    <div class="step-label">è©³ç´°ãƒ»è¦æœ›</div>
                </div>
                <div class="progress-step">
                    <div class="step-circle" id="step4">4</div>
                    <div class="step-label">ç¢ºèª</div>
                </div>
            </div>
        </div>

        <form id="customerForm">
            <!-- Step 1: åŸºæœ¬æƒ…å ± -->
            <div class="form-step active" id="formStep1">
                <h2>åŸºæœ¬æƒ…å ±</h2>
                <p>ãŠå®¢æ§˜ã®åŸºæœ¬çš„ãªæƒ…å ±ã‚’ã”å…¥åŠ›ãã ã•ã„</p>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label required" for="name">ãŠåå‰</label>
                        <input type="text" id="name" name="name" class="form-input" placeholder="å±±ç”°å¤ªéƒ" required>
                        <div class="error-message" id="nameError"></div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="age">å¹´é½¢</label>
                        <input type="number" id="age" name="age" class="form-input" placeholder="28" min="18" max="100">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label required" for="email">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label>
                        <input type="email" id="email" name="email" class="form-input" placeholder="yamada@example.com" required>
                        <div class="error-message" id="emailError"></div>
                    </div>
                    <div class="form-group">
                        <label class="form-label required" for="phone">é›»è©±ç•ªå·</label>
                        <input type="tel" id="phone" name="phone" class="form-input" placeholder="090-1234-5678" required>
                        <div class="error-message" id="phoneError"></div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="occupation">è·æ¥­</label>
                        <select id="occupation" name="occupation" class="form-input">
                            <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                            <option value="ä¼šç¤¾å“¡">ä¼šç¤¾å“¡</option>
                            <option value="å…¬å‹™å“¡">å…¬å‹™å“¡</option>
                            <option value="è‡ªå–¶æ¥­">è‡ªå–¶æ¥­</option>
                            <option value="ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹">ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹</option>
                            <option value="å­¦ç”Ÿ">å­¦ç”Ÿ</option>
                            <option value="ãã®ä»–">ãã®ä»–</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="annualIncome">å¹´åï¼ˆä¸‡å††ï¼‰</label>
                        <input type="number" id="annualIncome" name="annualIncome" class="form-input" placeholder="400" min="0">
                    </div>
                </div>

                <div class="form-buttons">
                    <div></div>
                    <button type="button" class="btn-next" onclick="nextStep()">æ¬¡ã¸</button>
                </div>
            </div>

            <!-- Step 2: å¸Œæœ›æ¡ä»¶ -->
            <div class="form-step" id="formStep2">
                <h2>å¸Œæœ›æ¡ä»¶</h2>
                <p>ãŠæ¢ã—ã®ç‰©ä»¶ã®æ¡ä»¶ã‚’ãŠèã‹ã›ãã ã•ã„</p>

                <div class="form-group">
                    <label class="form-label required">äºˆç®—ï¼ˆå®¶è³ƒï¼‰</label>
                    <div class="form-row">
                        <div>
                            <input type="number" id="budgetMin" name="budgetMin" class="form-input" placeholder="50000" required>
                            <label style="font-size: 12px; color: #64748b;">æœ€ä½é‡‘é¡ï¼ˆå††ï¼‰</label>
                        </div>
                        <div>
                            <input type="number" id="budgetMax" name="budgetMax" class="form-input" placeholder="80000" required>
                            <label style="font-size: 12px; color: #64748b;">æœ€é«˜é‡‘é¡ï¼ˆå††ï¼‰</label>
                        </div>
                    </div>
                    <div class="budget-display" id="budgetDisplay">
                        äºˆç®—: 50,000å†† ã€œ 80,000å††
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label required">å¸Œæœ›ã‚¨ãƒªã‚¢</label>
                    <div class="checkbox-group">
                        <label class="checkbox-item">
                            <input type="checkbox" name="areas" value="æ¸‹è°·åŒº"> æ¸‹è°·åŒº
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="areas" value="æ–°å®¿åŒº"> æ–°å®¿åŒº
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="areas" value="æ¸¯åŒº"> æ¸¯åŒº
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="areas" value="ä¸­å¤®åŒº"> ä¸­å¤®åŒº
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="areas" value="åƒä»£ç”°åŒº"> åƒä»£ç”°åŒº
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="areas" value="ä¸–ç”°è°·åŒº"> ä¸–ç”°è°·åŒº
                        </label>
                    </div>
                    <div class="error-message" id="areasError"></div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label required" for="roomType">é–“å–ã‚Š</label>
                        <select id="roomType" name="roomType" class="form-input" required>
                            <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                            <option value="ãƒ¯ãƒ³ãƒ«ãƒ¼ãƒ ">ãƒ¯ãƒ³ãƒ«ãƒ¼ãƒ </option>
                            <option value="1K">1K</option>
                            <option value="1DK">1DK</option>
                            <option value="1LDK">1LDK</option>
                            <option value="2K">2K</option>
                            <option value="2DK">2DK</option>
                            <option value="2LDK">2LDK</option>
                            <option value="3LDKä»¥ä¸Š">3LDKä»¥ä¸Š</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="moveInDate">å…¥å±…å¸Œæœ›æ—¥</label>
                        <input type="date" id="moveInDate" name="moveInDate" class="form-input">
                    </div>
                </div>

                <div class="form-buttons">
                    <button type="button" class="btn-prev" onclick="prevStep()">æˆ»ã‚‹</button>
                    <button type="button" class="btn-next" onclick="nextStep()">æ¬¡ã¸</button>
                </div>
            </div>

            <!-- Step 3: è©³ç´°ãƒ»è¦æœ› -->
            <div class="form-step" id="formStep3">
                <h2>è©³ç´°ãƒ»è¦æœ›</h2>
                <p>ãã®ä»–ã®ã”å¸Œæœ›ã‚„ã”è¦æœ›ã‚’ãŠèã‹ã›ãã ã•ã„</p>

                <div class="form-group">
                    <label class="form-label">ã“ã ã‚ã‚Šæ¡ä»¶</label>
                    <div class="checkbox-group">
                        <label class="checkbox-item">
                            <input type="checkbox" name="requirements" value="é§…å¾’æ­©10åˆ†ä»¥å†…"> é§…å¾’æ­©10åˆ†ä»¥å†…
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="requirements" value="ãƒã‚¹ãƒˆã‚¤ãƒ¬åˆ¥"> ãƒã‚¹ãƒˆã‚¤ãƒ¬åˆ¥
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="requirements" value="ã‚¨ã‚¢ã‚³ãƒ³ä»˜"> ã‚¨ã‚¢ã‚³ãƒ³ä»˜
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="requirements" value="ã‚ªãƒ¼ãƒˆãƒ­ãƒƒã‚¯"> ã‚ªãƒ¼ãƒˆãƒ­ãƒƒã‚¯
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="requirements" value="ãƒšãƒƒãƒˆå¯"> ãƒšãƒƒãƒˆå¯
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="requirements" value="æ¥½å™¨æ¼”å¥å¯"> æ¥½å™¨æ¼”å¥å¯
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="requirements" value="ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆç„¡æ–™"> ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆç„¡æ–™
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="requirements" value="å®…é…ãƒœãƒƒã‚¯ã‚¹"> å®…é…ãƒœãƒƒã‚¯ã‚¹
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label" for="notes">ãã®ä»–ã”è¦æœ›ãƒ»å‚™è€ƒ</label>
                    <textarea id="notes" name="notes" class="form-input" rows="4" placeholder="è»¢å‹¤ã®ãŸã‚æ€¥ãã§æ¢ã—ã¦ã„ã¾ã™ã€‚ç¯‰å¹´æ•°ã¯å•ã„ã¾ã›ã‚“ã€‚"></textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="urgency">ç·Šæ€¥åº¦</label>
                        <select id="urgency" name="urgency" class="form-input">
                            <option value="æ™®é€š">æ™®é€š</option>
                            <option value="æ€¥ã">æ€¥ã</option>
                            <option value="éå¸¸ã«æ€¥ã">éå¸¸ã«æ€¥ã</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="contactTime">é€£çµ¡å¸Œæœ›æ™‚é–“</label>
                        <select id="contactTime" name="contactTime" class="form-input">
                            <option value="ã„ã¤ã§ã‚‚">ã„ã¤ã§ã‚‚</option>
                            <option value="å¹³æ—¥9-18æ™‚">å¹³æ—¥9-18æ™‚</option>
                            <option value="å¹³æ—¥18æ™‚ä»¥é™">å¹³æ—¥18æ™‚ä»¥é™</option>
                            <option value="åœŸæ—¥ç¥æ—¥">åœŸæ—¥ç¥æ—¥</option>
                        </select>
                    </div>
                </div>

                <div class="form-buttons">
                    <button type="button" class="btn-prev" onclick="prevStep()">æˆ»ã‚‹</button>
                    <button type="button" class="btn-next" onclick="nextStep()">ç¢ºèªç”»é¢ã¸</button>
                </div>
            </div>

            <!-- Step 4: ç¢ºèª -->
            <div class="form-step" id="formStep4">
                <h2>å…¥åŠ›å†…å®¹ç¢ºèª</h2>
                <p>å…¥åŠ›å†…å®¹ã‚’ã”ç¢ºèªãã ã•ã„ã€‚å•é¡Œãªã‘ã‚Œã°é€ä¿¡ã—ã¦ãã ã•ã„ã€‚</p>

                <div class="confirmation-summary" id="confirmationSummary">
                    <!-- JavaScript ã§ç”Ÿæˆ -->
                </div>

                <div class="form-buttons">
                    <button type="button" class="btn-prev" onclick="prevStep()">æˆ»ã‚‹</button>
                    <button type="submit" class="btn-submit">é€ä¿¡ã™ã‚‹</button>
                </div>
            </div>

            <!-- Success -->
            <div class="form-step" id="formStepSuccess">
                <div class="success-message">
                    <div class="success-icon">âœ…</div>
                    <h2>é€ä¿¡å®Œäº†ï¼</h2>
                    <p>é¡§å®¢æƒ…å ±ã®ç™»éŒ²ãŒå®Œäº†ã—ã¾ã—ãŸã€‚<br>æ‹…å½“è€…ã‚ˆã‚Š2å–¶æ¥­æ—¥ä»¥å†…ã«ã”é€£çµ¡ã„ãŸã—ã¾ã™ã€‚</p>
                    <button type="button" class="btn-next" onclick="resetForm()" style="margin-top: 20px;">æ–°è¦å…¥åŠ›</button>
                </div>
            </div>
        </form>
    </div>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="js/firebase-config.js"></script>
    <script src="js/customer-form.js"></script>
</body>
</html>